cloud:
  digital_ocean:
    layer1:
      app:
        role: "main_do"
        vars:
          main_do_instance_type: "app"
          main_do_title: "main_do"
          main_do_hosts_file: "{{ env.discourse.hosts_file }}"
          main_do_api_token: "{{ env.discourse.cloud_api_token }}"
          main_do_host_user: "{{ env.discourse.cloud_host_user }}"
          main_do_host_pass: "{{ env.discourse.cloud_host_pass }}"
          main_do_ssh_public_keys: "{{ env.discourse.cloud_host_ssh_public_keys }}"
          main_do_tags: 
          - "host"
          - "worker"
          - "web"
          main_do_instance_count: 1
          main_do_instance_max: 1
          main_do_instance_group: "discourse_app"
          main_do_instance_name: "discourse-app"
          containers:
          - "app"

    layer2:
      db:
        role: "main_do"
        vars:
          main_do_instance_type: "db"
          main_do_title: "main_do"
          main_do_hosts_file: "{{ env.discourse.hosts_file }}"
          main_do_api_token: "{{ env.discourse.cloud_api_token }}"
          main_do_host_user: "{{ env.discourse.cloud_host_user }}"
          main_do_host_pass: "{{ env.discourse.cloud_host_pass }}"
          main_do_ssh_public_keys: "{{ env.discourse.cloud_host_ssh_public_keys }}"
          main_do_tags: 
          - "host"
          - "worker"
          - "web"
          main_do_instance_count: 1
          main_do_instance_max: 1
          main_do_instance_group: "discourse_db"
          main_do_instance_name: "discourse-db"
          containers:
          - "db"